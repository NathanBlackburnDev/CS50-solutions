<!DOCTYPE html>

<html lang="en">
    <head>
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap" rel="stylesheet">
        <link href="styles.css" rel="stylesheet">
        <title>Trivia!</title>
        <script>
            // TODO: Add code to check answers to questions
            // Will run this function once the entire HTML page and all of its content has fully loaded
            window.onload = function() {
                // Changes correct buttons
                // Takes the first HTML element with the class '.correct' and assigns it to the variable correctButton
                let correctButton = document.querySelector('.correct');
                // Waits for a click event and then when said click event occurs it executes the anonymous function
                correctButton.addEventListener('click', function() {
                    correctButton.style.backgroundColor = 'green';
                    // Tries to select a HTML element with the id 'newText', if the element exists then it is assigned to newText,
                    // if newText doesn't exist then the value of newText is null
                    let newText = document.getElementById('newText');
                    // If newText exists (truthy) then assign the string 'Correct' to newText
                    if (newText) {
                        newText.textContent = 'Correct';
                    } else {
                        // If newText doesn't exist (falsy) then create a new <p> tag and assign it to the variable newText
                        newText = document.createElement('P');
                        // Set the variable newText's ID value to 'newText'
                        newText.id = 'newText';
                        // Set the value of newText to the string 'correct'
                        newText.textContent = 'Correct';
                        // Append newText to the parent element of correctButton
                        correctButton.parentElement.appendChild(newText);
                    }
                });

                // Changes incorrect buttons
                // Finds all of the HTML elements witht the class '.incorrect' and adds them to an array
                const incorrectButton = document.querySelectorAll('.incorrect');
                // Iterates through the array of HTML elements in the array
                incorrectButton.forEach((button) => {
                    // ^ Everything that happens below is the exact same as the stuff that happens above ^
                    button.addEventListener('click', function() {
                        button.style.backgroundColor = 'red';
                        let newText = document.getElementById('newText');
                        if (newText) {
                            newText.textContent = 'Incorrect';
                        } else {
                            newText = document.createElement('P');
                            newText.id = 'newText';
                            newText.textContent = 'Incorrect';
                            button.parentElement.appendChild(newText);
                        }
                    })
                });

                document.getElementById('userForm').addEventListener('submit', function (event) {
                    event.preventDefault();
                    let userInput = document.getElementById('answer').value;
                    let userInputAnswer = userInput.toLowerCase();
                    let newText = document.getElementById('newText');
                    if (userInputAnswer == 'minerals') {
                        answer.style.backgroundColor = 'green';
                        if (newText) {
                            newText.textContent = 'Correct';
                        } else {
                            newText = document.createElement('P');
                            newText.id = 'newText';
                            newText.textContent = 'Correct';
                            answer.parentElement.appendChild(newText);
                        }
                    } else {
                        answer.style.backgroundColor = 'red';
                        if (newText) {
                            newText.textContent = 'Incorrect';
                        } else {
                            newText = document.createElement('P');
                            newText.id = 'newText';
                            newText.textContent = 'Incorrect';
                            answer.parentElement.appendChild(newText)};
                    }
                });
            }
        </script>
    </head>
    <body>
        <div class="header">
            <h1>Trivia!</h1>
        </div>s

        <div class="container">
            <div class="section">
                <h2>Part 1: Multiple Choice </h2>
                <hr>
                <!-- TODO: Add multiple choice question here -->
                <h3>Walter White's transformation from nerdy high school chemistry teacher to criminal kingpin all started with what specific medical diagnosis?</h3>
                <button type="button" class="correct">Lung Cancer</button>
                <button type="button" class="incorrect">Collapsed Lung</button>
                <button type="button" class="incorrect">Lung Disease</button>
            </div>

            <div class="section">
                <h2>Part 2: Free Response</h2>
                <hr>
                <!-- TODO: Add free response question here -->
                <h3>While convalescing from the shootout with the Salamanca twins, what does Hank start collecting?</h3>
                <form id="userForm">
                    <label for="answer"></label>
                    <input id="answer" autocomplete="off" placeholder="Enter:" type="text" required>
                    <button type="submit">Submit</button>
                </form>
            </div>
        </div>
    </body>
</html>
